# AI Smart Kiosk System

> 고령층을 위한 AI 기반의 **스마트 키오스크 시스템**  
> 얼굴 인식을 통해 사용자 로그인을 지원, 대화를 통한 주문 및 메뉴 추천 기능을 포함.

## 참여 인원
김지민 - STT, TTS<br>
김형후 - LLM, 시스템 구성 <br>
원정환 - 얼굴 인식, 프론트엔드(Kivy)<br>
이승재 - 기획 및 서버 구축<br>

## 🛠 사용 기술
| 구분        | 기술/라이브러리 |
|-------------|----------------|
| Language    | Python         |
| Vision      | OpenCV, FaceDetection, DeepSORT |
| DB          | SQLite, ChromaDB |
| UI          | Kivy           |
| 기타        | PIL, NumPy, UUID, YOLO 등 |


## 💧프로젝트 제작 과정
https://hail-giver-aa3.notion.site/1d5abb7c3763808a800cf77f6970db07?pvs=4

## 🧠 프로젝트 개요

- 얼굴 인식을 통해 사용자를 식별하고,
- 개인화된 메뉴 추천 및 주문을 지원합니다.
- 프론트엔드와 AI 모델이 통합되어 사용자 친화적인 경험을 제공합니다.

## 👤 담당 역할 (원정환)
### ✅ 1. 얼굴 인식 기반 로그인 시스템 구현

- **Face_Recognition**을 활용한 얼굴 검출
- 얼굴 데이터를 벡터로 변환하여 DB에 저장, 유사도 기반으로 사용자 매칭

- 최초 유사도 매칭 시, 코사인 유사도만으로는 얼굴 구분력이 부족해 실제 유사하지 않은 인물도 같은 사람으로 인식되는 문제가 발생<br>
5,000개 얼굴 이미지 중 불량 225건 , 구분 성공 : 495건, 실패(동일 인물로 판정) : 4,280건
구분 성공률 약 10%

    → 이를 해결하기 위해 **코사인 유사도, 유클리드 거리, 특징 벡터 일부(짝수 인덱스 기준)**를 조합해 가중치 기반(4:3:3)으로 변경<br>
    50,000개 얼굴 이미지 중 불량 2064건, 구분 성공 47936건 (실제 동일인물 304건)<br>
    **구분 성공률 100%**
- DB에 유사한 얼굴이 없을 때 (신규 사용자): 일정 프레임 이상 감지된 새로운 얼굴의 벡터값을 이름과 함께 DB에 등록
- DB에 유사한 얼굴 감지 시 : DB 정보 불러온 후 메뉴 주문 화면으로 전환
- 사용자 ID Increment 생성으로 동명이인 처리
![image](https://github.com/user-attachments/assets/e0074dcf-2cd7-4ffe-a1a5-0eea20012890)

### ✅ 2. 얼굴 기반 DeepSORT 추적 기능
- 얼굴인식 단계에서 감지한 얼굴 벡터값을 DeepSORT로 연동하여 얼굴 추적
- 타인 얼굴은 무시하고 지정된 사용자의 얼굴만 추적
- n초 이상 해당 얼굴 이탈 확인 시 초기 화면으로 전환
  
### ✅ 3. Vision 모듈 상태 제어 및 전환
- 얼굴 인식 → 등록 → 추적 → 재인식 루프 설계

### ✅ 4. 프론트엔드 인터페이스 개발
- 카메라에 입력된 얼굴 값을 DB 내 입력된 얼굴과 비교
  처음엔 화면에 보이는 얼굴 중 가장 큰 얼굴을 자동으로 인식하려 했지만, 테스트 결과 사용자들이 “이게 되는 거야?”라는 반응을 보이며 혼란을 느끼는 경우가 많았음<br>
→ 이후 네모 박스를 화면에 띄우고, 사용자가 그 안에 얼굴을 맞추도록 하자 오히려 이해도와 적응도가 크게 개선됨

- **Kivy** 기반 UI 개발(Python 기반, Touch 조작, Layer를 활용한 UI 디자인 설계 용이)
- 대기화면 -> 새로운 사용자 등록 or 기존 사용자 확인 -> 메뉴 선정 -> 결제 -> 주문번호 발급 -> 대기화면
- 얼굴 인식 결과 및 사용자 정보 화면에 시각적으로 표시
- 한글 폰트를 적용한 사용자 친화적 인터페이스

---
![image](https://github.com/user-attachments/assets/5713b185-b3ef-44de-8998-d79fe2e78435)
![image](https://github.com/user-attachments/assets/755afa8e-fc2a-4d5d-bf6d-4c9be19d0f4a)



